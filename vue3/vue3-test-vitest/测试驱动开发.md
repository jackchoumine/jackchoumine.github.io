# 什么时候测试驱动开发

测试驱动开发（test drive development, 简称 TDD）是软件开发中的一中方法论，即在编写代码之前先编写测试用例，然后再编写代码，
直到测试用例通过。TDD 的好处是可以提高代码的质量，减少 bug，提高代码的可维护性，能改进代码设计。

> 代码能被测试，说明代码设计不会太差。

## 测试驱动开发的三个步骤

TDD 的三个步骤：先写测试，再写代码，最后重构，让测试用例都通过。

1. 先写测试用例

此时测试用例应该是失败的，因为还没有实现功能，很多测试框架会使用红色表示测试失败。

2. 写代码

写代码的目的是让测试用例通过，此时测试用例应该是绿色的，表示测试通过。

3. 重构

重构的目的是优化代码，让代码更加简洁，更加易读。

这种开发方式，又叫做红绿重构（red-green-refactor）循环。

这个过程实际会增加工作量，短期项目可能不适合，但是对长期需要维护和质量要求高的项目非常适合，能有效提高代码质量。

## 测试驱动开发的好处

- 提高代码质量

- 获得更好的设计, 代码更加模块化，更加易读和好维护

- 防止意外改变代码，而引入bug

## 参考

- [What is Test-Driven Development](https://testdriven.io/test-driven-development/)

## 小结

测试驱动开发是一种很好的开发方式，能提高代码质量，但是需要花费更多的时间，不适合所有项目。

长期维护和质量要求高的项目，推荐使用测试驱动开发。
