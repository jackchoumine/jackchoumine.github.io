import{_ as s,o as n,c as a,a as l}from"./app.11dd7129.js";const d=JSON.parse('{"title":"如何在 vscode 中调试程序","description":"","frontmatter":{},"headers":[{"level":2,"title":"launch.json 配置简介","slug":"launch-json-配置简介","link":"#launch-json-配置简介","children":[{"level":3,"title":"如何创建 launch.json 文件","slug":"如何创建-launch-json-文件","link":"#如何创建-launch-json-文件","children":[]}]},{"level":2,"title":"node 调试","slug":"node-调试","link":"#node-调试","children":[{"level":3,"title":"launch 调试模式","slug":"launch-调试模式","link":"#launch-调试模式","children":[]},{"level":3,"title":"attach 调试模式","slug":"attach-调试模式","link":"#attach-调试模式","children":[]},{"level":3,"title":"vscode 自带 npm 脚本调试","slug":"vscode-自带-npm-脚本调试","link":"#vscode-自带-npm-脚本调试","children":[]},{"level":3,"title":"vscode 中和调试相关的菜单","slug":"vscode-中和调试相关的菜单","link":"#vscode-中和调试相关的菜单","children":[]}]},{"level":2,"title":"小结","slug":"小结","link":"#小结","children":[]}],"relativePath":"others/dev-tool/how-to-debug-in-vscode.md"}'),o={name:"others/dev-tool/how-to-debug-in-vscode.md"},p=l(`<h1 id="如何在-vscode-中调试程序" tabindex="-1">如何在 vscode 中调试程序 <a class="header-anchor" href="#如何在-vscode-中调试程序" aria-hidden="true">#</a></h1><p>vscode 调试程序需要满足的条件：</p><ol><li>具备编程语言的运行环境，比如 node、python、java 等。</li><li>安装对应语言的 vscode 扩展。</li><li>配置<code>launch.json</code>文件。</li></ol><h2 id="launch-json-配置简介" tabindex="-1">launch.json 配置简介 <a class="header-anchor" href="#launch-json-配置简介" aria-hidden="true">#</a></h2><p>几个作用：① 指定语言的运行环境 ② 指定调试类型 ③ 跳过某些文件，简化调试 ④ ……</p><p>一个需要打开浏览器才能调试的<strong>vue 项目</strong> 的 launch.json 配置如下：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.2.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 配置文件版本 没有发现有很大的作用</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">configurations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chrome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 运行环境为浏览器</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">request</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">launch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 调试类型为 launch</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">debugInChrome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 调试名称 在左上角选择调试时显示的名称</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://localhost:3000</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 调试的 url，开启调试后会自动打开浏览器并访问这个 url</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">webRoot</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${workspaceFolder}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 项目根目录</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipFiles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;node_internals&gt;/**</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${workspaceFolder}/node_modules/**</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 跳过的文件</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>端口号要和非调试时的端口号一致，不然会出现调试时页面无法加载的情况。</p></blockquote><p>configurations 是配置数组，可以配置多个调试项。每个配置的 <code>type</code> 、 <code>request</code> 、 <code>name</code> 三个属性是必须的。</p><blockquote><p>type 用于指定运行环境，request 用于指定调试类型，name 用于指定调试名称。</p></blockquote><p>两种调试类型：launch 和 attach。</p><ul><li><p>launch：启动一个新的进程，然后调试这个进程。</p></li><li><p>attach：连接到一个已经运行的进程，然后调试这个进程。</p></li></ul><blockquote><p>一般来说，launch 用于调试本地程序，attach 用于调试远程程序，或者重启程序需要很久的时候。</p></blockquote><h3 id="如何创建-launch-json-文件" tabindex="-1">如何创建 launch.json 文件 <a class="header-anchor" href="#如何创建-launch-json-文件" aria-hidden="true">#</a></h3><p>大部分情况下，vscode 会打开一个项目的时候，询问是否需要自动创建 launch.json 文件，但是有时候需要手动创建。</p><blockquote><p>如何手动创建？</p></blockquote><p>点击左侧的调试按钮，然后点击配置按钮，选择一个调试类型，比如 node，然后就会自动在 <code>.vscode</code> 目录里创建一个 launch.json 文件。</p><h2 id="node-调试" tabindex="-1">node 调试 <a class="header-anchor" href="#node-调试" aria-hidden="true">#</a></h2><p>vscode 是一个非常好用的编辑器，它支持调试 node 程序，下面是如何在 vscode 中调试 node 程序的方式。</p><p>三种方式：</p><ol><li>launch 调试模式</li><li>attach 调试模式</li><li>vscode 自带 npm 脚本调试</li></ol><h3 id="launch-调试模式" tabindex="-1">launch 调试模式 <a class="header-anchor" href="#launch-调试模式" aria-hidden="true">#</a></h3><p>在 vscode 中创建一个 launch.json 文件，配置调试参数，然后点击 debug 按钮，开始调试。</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.2.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">configurations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">request</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">launch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Launch Program</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipFiles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;node_internals&gt;/**</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">program</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${workspaceFolder}/app.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>配置说明：</p><ul><li><code>type</code>：调试类型，这里是 node，可以支持其他类型，比如 chrome 等。</li><li><code>request</code>：请求类型，这里是 launch，还有 attach 类型等。</li><li><code>name</code>：调试名称，在左上角选择调试时显示的名称。</li><li><code>skipFiles</code>：跳过的文件。</li><li><code>program</code>：要调试的文件。</li></ul><h3 id="attach-调试模式" tabindex="-1">attach 调试模式 <a class="header-anchor" href="#attach-调试模式" aria-hidden="true">#</a></h3><p>有些时候，需要调试已经运行的程序，比如 web 服务，重启可能需要很久或者需要远程调试，这时候就需要使用 attach 模式，调试器会附加到已经运行的程序。</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.2.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">configurations</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">node</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">request</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">attach</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Attach to Process</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipFiles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;node_internals&gt;/**</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">processId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${command:PickProcess}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>attach 模式需要一个 processId，这里使用了 <code>\${command:PickProcess}</code> ，会弹出一个选择框，选择一个进程，然后连接到这个进程。</p></blockquote><blockquote><p>attach 通常用来调试 web 服务，比如 koa、express 等，可以在服务启动时打断点，然后 attach 到进程上，这样就可以调试服务了。</p></blockquote><h3 id="vscode-自带-npm-脚本调试" tabindex="-1">vscode 自带 npm 脚本调试 <a class="header-anchor" href="#vscode-自带-npm-脚本调试" aria-hidden="true">#</a></h3><p>在 vscode 左下角选择选择带有 debugger 的图标 npm 脚本执行，点击后会出现一个 debug 控制台，点击绿色的三角形按钮，开始调试。</p><blockquote><p>实际上，他会启动一个 attach 模式的调试器，然后连接到 npm 脚本启动的进程。</p></blockquote><h3 id="vscode-中和调试相关的菜单" tabindex="-1">vscode 中和调试相关的菜单 <a class="header-anchor" href="#vscode-中和调试相关的菜单" aria-hidden="true">#</a></h3><p>顶部菜单栏有一个 <code>运行</code> 菜单，包含了一些和调试相关的功能。</p><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-hidden="true">#</a></h2><p>vscode 是一个非常好用的编辑器，可调试各种程序。调试程序需要满足的条件：① 具备编程语言的运行环境 ② 安装对应语言的 vscode 扩展 ③ 配置 <code>launch.json</code> 文件。</p><ul><li>launch.json 需要有三个必须选项：<code>type</code>、<code>request</code>、<code>name</code>。</li><li>vscode 自带 npm 脚本调试、launch 调试模式、attach 调试模式。</li><li>vscode 中和调试相关的菜单在顶部菜单栏的<code>运行</code>菜单中。</li></ul>`,39),e=[p];function c(t,r,D,F,y,i){return n(),a("div",null,e)}const C=s(o,[["render",c]]);export{d as __pageData,C as default};
