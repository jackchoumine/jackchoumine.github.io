import{_ as e,o as t,c as s,a as n}from"./app.92315385.js";const u=JSON.parse('{"title":"jest 中的模拟","description":"","frontmatter":{},"headers":[{"level":2,"title":"jest.fn","slug":"jest-fn","link":"#jest-fn","children":[]},{"level":2,"title":"jest.spyOn","slug":"jest-spyon","link":"#jest-spyon","children":[]},{"level":2,"title":"jest.mock","slug":"jest-mock","link":"#jest-mock","children":[]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}],"relativePath":"web/js/jest-mock.md"}'),r={name:"web/js/jest-mock.md"},o=n('<h1 id="jest-中的模拟" tabindex="-1">jest 中的模拟 <a class="header-anchor" href="#jest-中的模拟" aria-hidden="true">#</a></h1><p>被代码会依赖一些外部环境，比如 http 接口，npm 模块、数据库等，集成这些环境往往会使得测试用例不可控，真实环境也许是缓慢和脆弱的，比如真实环境要求定时器的间隔为20分钟，测试不可能等待20分钟，需要使用代码模拟一个稳定的环境，jest 可模拟常见的&quot;环境&quot;，比如<strong>回调函数</strong>、<strong>定时器</strong>、<strong>数据库</strong>等。</p><p>通过模拟，可以使得测试用例更加可控，更加稳定，更加快速，且能方便的知道依赖的模块的调用情况：</p><ol><li>是否被调用</li><li>调用次数</li><li>调用时的参数</li><li>调用时的返回值</li><li>调用时的 this</li><li>调用顺序</li></ol><p>jest 有三种创建模拟函数的方式：</p><ul><li>jest.fn() -- 模拟函数</li><li>jest.spyOn() -- 模拟对象的方法</li><li>jest.mock() -- 模拟模块</li></ul><p>先看 jest.fn</p><h2 id="jest-fn" tabindex="-1">jest.fn <a class="header-anchor" href="#jest-fn" aria-hidden="true">#</a></h2><h2 id="jest-spyon" tabindex="-1">jest.spyOn <a class="header-anchor" href="#jest-spyon" aria-hidden="true">#</a></h2><h2 id="jest-mock" tabindex="-1">jest.mock <a class="header-anchor" href="#jest-mock" aria-hidden="true">#</a></h2><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-hidden="true">#</a></h2><p><a href="https://www.pluralsight.com/guides/how-does-jest.fn()-work" target="_blank" rel="noreferrer">Mock Functions or Spies Demystified - How Does jest.fn() Work?</a></p><p><a href="https://echobind.com/post/how-to-write-functional-tests-in-react-part-1" target="_blank" rel="noreferrer">How to Write Functional Tests in React (Part 1)</a></p><p><a href="https://www.positioniseverything.net/jest-spyon/" target="_blank" rel="noreferrer">Jest Spyon: All You Need To Know About This Function</a></p><p><a href="https://codewithhugo.com/guides/jest-handbook/" target="_blank" rel="noreferrer">The Jest Handbook</a></p><p><a href="https://silvenon.com/blog/mocking-with-jest/functions" target="_blank" rel="noreferrer">Spying on Functions and Changing Implementation</a></p><p><a href="https://www.meticulous.ai/blog/frontend-unit-testing-best-practices" target="_blank" rel="noreferrer">Frontend Unit Testing | Best Practices &amp; Tutorial</a></p>',17),a=[o];function i(l,h,c,p,d,f){return t(),s("div",null,a)}const _=e(r,[["render",i]]);export{u as __pageData,_ as default};
