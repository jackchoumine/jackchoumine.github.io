import{_ as s,o as n,c as a,a as l}from"./app.9db550e0.js";const i=JSON.parse('{"title":"node æ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹ Buffer","description":"","frontmatter":{},"headers":[{"level":2,"title":"ä½•ä¸º Buffer","slug":"ä½•ä¸º-buffer","link":"#ä½•ä¸º-buffer","children":[]},{"level":2,"title":"å®ä¾‹åŒ– Buffer","slug":"å®ä¾‹åŒ–-buffer","link":"#å®ä¾‹åŒ–-buffer","children":[{"level":3,"title":"ç¼–ç ","slug":"ç¼–ç ","link":"#ç¼–ç ","children":[]}]},{"level":2,"title":"è¯»å†™ç¼“å†²åŒº","slug":"è¯»å†™ç¼“å†²åŒº","link":"#è¯»å†™ç¼“å†²åŒº","children":[]},{"level":2,"title":"å¡«å……","slug":"å¡«å……","link":"#å¡«å……","children":[]},{"level":2,"title":"buffer æ¯”è¾ƒ","slug":"buffer-æ¯”è¾ƒ","link":"#buffer-æ¯”è¾ƒ","children":[{"level":3,"title":"buffer.equals(buffer)","slug":"buffer-equals-buffer","link":"#buffer-equals-buffer","children":[]},{"level":3,"title":"buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])","slug":"buf-compare-target-targetstart-targetend-sourcestart-sourceend","link":"#buf-compare-target-targetstart-targetend-sourcestart-sourceend","children":[]},{"level":3,"title":"arr.sort(Buffer.compare) -- buffer æ•°ç»„æ’åºï¼Œ","slug":"arr-sort-buffer-compare-buffer-æ•°ç»„æ’åº","link":"#arr-sort-buffer-compare-buffer-æ•°ç»„æ’åº","children":[]}]},{"level":2,"title":"æ£€æŸ¥ buffer","slug":"æ£€æŸ¥-buffer","link":"#æ£€æŸ¥-buffer","children":[]},{"level":2,"title":"è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜","slug":"è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜","link":"#è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜","children":[]},{"level":2,"title":"buffer å¤§å° buffer.length","slug":"buffer-å¤§å°-buffer-length","link":"#buffer-å¤§å°-buffer-length","children":[{"level":3,"title":"buffer è¿æ¥ Buffer.concat(bufferList[,totalLength])","slug":"buffer-è¿æ¥-buffer-concat-bufferlist-totallength","link":"#buffer-è¿æ¥-buffer-concat-bufferlist-totallength","children":[]}]},{"level":2,"title":"bufSource.copy(bufTarget[,targetStart[,sourceStart[,sourceEnd]]])","slug":"bufsource-copy-buftarget-targetstart-sourcestart-sourceend","link":"#bufsource-copy-buftarget-targetstart-sourcestart-sourceend","children":[]},{"level":2,"title":"æˆªå– buf.slice([start=0[, end=buf.length]])","slug":"æˆªå–-buf-slice-start-0-end-buf-length","link":"#æˆªå–-buf-slice-start-0-end-buf-length","children":[]},{"level":2,"title":"æŸ¥æ‰¾ buf.indexOf(value[,byteOffset=0][,encoding=â€˜utf8â€™])","slug":"æŸ¥æ‰¾-buf-indexof-value-byteoffset-0-encoding-utf8","link":"#æŸ¥æ‰¾-buf-indexof-value-byteoffset-0-encoding-utf8","children":[]},{"level":2,"title":"buffer è½¬ String å’Œ Object","slug":"buffer-è½¬-string-å’Œ-object","link":"#buffer-è½¬-string-å’Œ-object","children":[]},{"level":2,"title":"buffer éå†","slug":"buffer-éå†","link":"#buffer-éå†","children":[]},{"level":2,"title":"TODO","slug":"todo","link":"#todo","children":[]}],"relativePath":"node/nodeæ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹Buffer.md"}'),p={name:"node/nodeæ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹Buffer.md"},o=l(`<h1 id="node-æ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹-buffer" tabindex="-1">node æ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹ Buffer <a class="header-anchor" href="#node-æ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹-buffer" aria-hidden="true">#</a></h1><ul><li><a href="#node-%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%E5%AD%A6%E4%B9%A0%E4%B9%8B-buffer">node æ ¸å¿ƒæ¨¡å—å­¦ä¹ ä¹‹ Buffer</a><ul><li><a href="#%E4%BD%95%E4%B8%BA-buffer">ä½•ä¸º Buffer</a></li><li><a href="#%E5%AE%9E%E4%BE%8B%E5%8C%96-buffer">å®ä¾‹åŒ– Buffer</a></li><li><a href="#%E7%BC%96%E7%A0%81">ç¼–ç </a></li><li><a href="#%E8%AF%BB%E5%86%99%E7%BC%93%E5%86%B2%E5%8C%BA">è¯»å†™ç¼“å†²åŒº</a></li><li><a href="#%E5%A1%AB%E5%85%85">å¡«å……</a></li><li><a href="#buffer-%E6%AF%94%E8%BE%83">buffer æ¯”è¾ƒ</a></li><li><a href="#bufferequalsbuffer">buffer.equals(buffer)</a></li><li><a href="#bufcomparetarget-targetstart-targetend-sourcestart-sourceend">buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])</a></li><li><a href="#arrsortbuffercompare----buffer-%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F">arr.sort(Buffer.compare) -- buffer æ•°ç»„æ’åºï¼Œ</a></li><li><a href="#%E6%A3%80%E6%9F%A5-buffer">æ£€æŸ¥ buffer</a></li><li><a href="#%E8%AE%A1%E7%AE%97%E9%9C%80%E8%A6%81%E5%88%86%E9%85%8D%E7%9A%84%E5%86%85%E5%AD%98">è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜</a></li><li><a href="#buffer-%E5%A4%A7%E5%B0%8F-bufferlength">buffer å¤§å° buffer.length</a></li><li><a href="#buffer-%E8%BF%9E%E6%8E%A5-bufferconcatbufferlisttotallength">buffer è¿æ¥ Buffer.concat(bufferList[,totalLength])</a></li><li><a href="#bufsourcecopybuftargettargetstartsourcestartsourceend">bufSource.copy(bufTarget[,targetStart[,sourceStart[,sourceEnd]]])</a></li><li><a href="#%E6%88%AA%E5%8F%96-bufslicestart0-endbuflength">æˆªå– buf.slice([start=0[, end=buf.length]])</a></li><li><a href="#%E6%9F%A5%E6%89%BE-bufindexofvaluebyteoffset0encodingutf8">æŸ¥æ‰¾ buf.indexOf(value[,byteOffset=0][,encoding=â€˜utf8â€™])</a></li><li><a href="#buffer-%E8%BD%AC-string-%E5%92%8C-object">buffer è½¬ String å’Œ Object</a></li><li><a href="#buffer-%E9%81%8D%E5%8E%86">buffer éå†</a></li><li><a href="#todo">TODO</a></li></ul></li></ul><h2 id="ä½•ä¸º-buffer" tabindex="-1">ä½•ä¸º Buffer <a class="header-anchor" href="#ä½•ä¸º-buffer" aria-hidden="true">#</a></h2><p>åœ¨ ES6 å¼•å…¥ TypeArray ä¹‹å‰ï¼ŒJS æ²¡æœ‰èƒ½è¯»å–å’Œæ“ä½œäºŒè¿›åˆ¶æ•°æ®æµçš„æœºåˆ¶ï¼ŒBuffer ä½œä¸º Node API å¼•å…¥ï¼Œä»¥ä¾¿èƒ½å’Œ TCP ç½‘ç»œæµã€æ–‡ä»¶æµç­‰è¿›è¡Œäº¤äº’ã€‚ ç›®å‰ ES6 ä¸­æœ‰ TypeArray äº†ï¼ŒBuffer ç±»ä»¥æ›´åŠ ä¼˜åŒ–å’Œé€‚ç”¨çš„äº Node æ“ä½œçš„æ–¹å¼å®ç°äº† Unit8Array APIã€‚ æ€»ä¹‹ï¼ŒBuffer å°±æ˜¯ç”¨æ¥<code>æ“ä½œäºŒè¿›åˆ¶æ•°æ®</code>çš„ï¼Œä½äºå…¨å±€å˜é‡ä¸­ï¼Œæ— éœ€å¼•å…¥å³å¯ä½¿ç”¨ã€‚ Buffer å®ä¾‹ç±»ä¼¼äº æ•´å‹æ•°ç»„ï¼Œ<code>ç¼“å†²åŒºå¤§å°åœ¨åˆ›å»ºæ˜¯ç¡®å®šï¼Œä¸èƒ½è°ƒæ•´</code>ï¼Œå†…å­˜æœ‰ C++ç”³è¯·ï¼ŒJS åˆ†é…ã€‚</p><blockquote><p>Instances of the Buffer class are similar to arrays of integers but correspond to fixed-sized, raw memory allocations outside the V8 heap. The size of the Buffer is established when it is created and cannot be changed.</p></blockquote><blockquote><p>...mechanism for reading or manipulating streams of binary data. The Buffer class was introduced as part of the Node.js API to make it possible to interact with octet streams in the context of things like TCP streams and file system operationsã€‚</p></blockquote><p>Buffer ç¼“å­˜åŒºï¼Œè®¡ç®—æœºè¯»å–é€Ÿåº¦å’Œå¤„ç†é€Ÿåº¦ä¸åŒ¹é…ï¼Œè¯»å–é€Ÿåº¦é«˜äºå¤„ç†é€Ÿåº¦æ—¶ï¼Œä¼šå¼€è¾Ÿ<code>ä¸€æ®µå†…å­˜åŒºåŸŸ</code>æ¥å­˜æ”¾å¾…å¤„ç†çš„æ•°æ®ï¼Œè¿™æ®µå†…å­˜å°±å«<code>ç¼“å†²åŒº</code>ã€‚</p><h2 id="å®ä¾‹åŒ–-buffer" tabindex="-1">å®ä¾‹åŒ– Buffer <a class="header-anchor" href="#å®ä¾‹åŒ–-buffer" aria-hidden="true">#</a></h2><p>åœ¨ v6.0 ä¹‹å‰åˆ›å»º Buffer å¯¹è±¡ç›´æ¥ä½¿ç”¨ new Buffer()æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä½†æ˜¯ Buffer å¯¹å†…å­˜çš„æƒé™æ“ä½œç›¸æ¯”å¾ˆå¤§ï¼Œå¯ä»¥ç›´æ¥æ•è·ä¸€äº›æ•æ„Ÿä¿¡æ¯ï¼Œå­˜åœ¨å®‰å…¨éšæ‚£ï¼Œä¹‹åçš„ç‰ˆæœ¬ï¼Œç”¨ä¸‹é¢å‡ ä¸ªå‡½æ•°å®ä¾‹ç”»ä¸€ä¸ª Bufferï¼š</p><ul><li>Buffer.from()</li><li>Buffer.alloc()</li><li>Buffer.allocUnsafe() | å‡½æ•°|å‚æ•°|è¿”å›å€¼| |:--ğŸ˜:--ğŸ˜:--ğŸ˜:--ğŸ˜:--ğŸ˜ |from|arry|åŒ…å« array çš„å­—èŠ‚å‰¯æœ¬çš„ Buffer,æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¡¨ç¤ºä¸€ä¸ª<code>8ä½å­—èŠ‚</code>çš„æ•°å­—ï¼Œæ•…å€¼åœ¨<code>0--255</code>ä»¥å†…ï¼Œå¦åˆ™å–ä½™| |from|buffer|ä» buffer å¤åˆ¶ä¸€ä¸ªæ–°çš„ buffer| |from|arrayBuffer[,byteOffet,[,length]]|ä¸ arrayBuffer å…±äº«å†…å­˜çš„ Buffer| |from|string[,encoding]|string åˆå§‹åŒ–çš„ Buffer| |alloc|size[,fill[encoding]]|æŒ‡å®šå¤§å°çš„ Buffer å®ä¾‹é¢ï¼Œçœç•¥ fill,é»˜è®¤ç”¨ 0 å¡«å……| |allocUnsafe|size|æŒ‡å®šå¤§å°çš„ buffer,ä¸è¢«åˆå§‹åŒ–ï¼Œå¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯| ç»™<code>allocUnsafe</code>åˆ†é…çš„å†…å­˜ä¸è¢«åˆå§‹åŒ–ï¼Œå³å½’é›¶ï¼Œå†…å­˜é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¯èƒ½åŒ…å«æ—§æ•°æ®ï¼Œä¸è¦†ç›–è¿™äº›æ•°æ®ï¼Œå°±å¯èƒ½é€ æˆå†…å­˜æ³„æ¼ã€‚</li></ul><h3 id="ç¼–ç " tabindex="-1">ç¼–ç  <a class="header-anchor" href="#ç¼–ç " aria-hidden="true">#</a></h3><p>æ”¯æŒä»¥ä¸‹ç¼–ç ï¼š</p><ul><li>utf8</li><li>ascii</li><li>base64</li><li>binary</li><li>utf16le</li><li>hex</li></ul><h2 id="è¯»å†™ç¼“å†²åŒº" tabindex="-1">è¯»å†™ç¼“å†²åŒº <a class="header-anchor" href="#è¯»å†™ç¼“å†²åŒº" aria-hidden="true">#</a></h2><p><strong><code>buffer.write(string[offset,[length]][,encoding])</code></strong></p><ul><li>string - å†™å…¥ç¼“å†²åŒºçš„å­—ç¬¦ä¸²ï¼›</li><li>offset - å¼€å§‹å†™å…¥çš„ä½ç½®ï¼Œé»˜è®¤ 0ï¼›</li><li>length - å†™å…¥å­—èŠ‚ï¼Œé»˜è®¤ buf.length</li><li>encoding - ç¼–ç ï¼Œé»˜è®¤ utf8ã€‚</li></ul><p>è¿”å›å€¼:<code>int</code>ï¼šå†™å…¥çš„å®é™…å¤§å°ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¿å­˜ï¼Œåªä¼šå†™å…¥ä¸€éƒ¨åˆ†ã€‚ **<code>buffer.toString([endcoding[,start=0[,end=buffer.length]]])</code> ** è§£ç æŒ‡å®šç¼“å†²åŒºçš„æ•°æ®ï¼Œå¹¶æŒ‰ endcoding ç¼–ç æ ¼å¼è¿”å›å­—ç¬¦ä¸²ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//åˆ†é… 10 ä¸ªå­—èŠ‚çš„ç©ºé—´</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt; æ²¡ fill ,ç”¨ 0 å¡«å……</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> len </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">this is a buffer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// 16ä¸ªå­—èŠ‚</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 74 68 69 73 20 69 73 20 61 20&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(len) </span><span style="color:#676E95;font-style:italic;">//10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸Šé¢çš„ä»£ç å’Œä¸‹é¢çš„ä¸€æ ·</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">this is a buffer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">substring</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 74 68 69 73 20 69 73 20 61 20&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length) </span><span style="color:#676E95;font-style:italic;">//10</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// åˆ†é… 8 ä¸ªå­—èŠ‚çš„å†…å­˜ï¼Œç”¨ 10 å¡«å……</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 0a 0a 0a 0a 0a 0a 0a 0a&gt;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> size </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">this a buffer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//ä»ç´¢å¼• 2 å¼€å§‹å†™ï¼Œå†™å…¥2å­—èŠ‚çš„æ•°æ®</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 00 00 74 68 00 00 00 00&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(size) </span><span style="color:#676E95;font-style:italic;">//2</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf16le</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">//ç©æ¤ â³</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">base64</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">//aXMgaXMg</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ascii</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">//is is</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">//is is</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hex</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">//697320697320</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="å¡«å……" tabindex="-1">å¡«å…… <a class="header-anchor" href="#å¡«å……" aria-hidden="true">#</a></h2><p>buffer.fill(value[,offset=0[,end=buffer.length]][,endcoding]) value å¯ä»¥æ˜¯ <code>Buffer</code> ã€<code>String</code> ã€<code>Int</code>ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//ç©ºé—´è¶³å¤Ÿï¼Œå¾ªç¯å¡«å……</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abcdabcdab  å¾ªç¯å¡«å……ï¼ŒçŸ¥é“ç©ºé—´æ»¡</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcdef</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//ç©ºé—´ä¸å¤Ÿï¼Œæˆªæ–­</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abc</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//ä»ç´¢å¼• 3 å¼€å§‹å¡«å……</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 00 00 00 61 62 63 61 62 63 61&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abcabcabca</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf4 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//ä»ç´¢å¼• 3 å¼€å§‹å¡«å……,åˆ°ç´¢å¼• 7 ç»“æŸ</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf4) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 00 00 00 61 62 63 61 00 00 00&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf4</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// abca</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">34</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// æ”¹å˜åŸæ¥çš„ buffer</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="buffer-æ¯”è¾ƒ" tabindex="-1">buffer æ¯”è¾ƒ <a class="header-anchor" href="#buffer-æ¯”è¾ƒ" aria-hidden="true">#</a></h2><h3 id="buffer-equals-buffer" tabindex="-1">buffer.equals(buffer) <a class="header-anchor" href="#buffer-equals-buffer" aria-hidden="true">#</a></h3><p>æ¯”è¾ƒä¸¤ä¸ª buffer çš„æ•°æ®æ˜¯å¦ç›¸åŒã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ä¾‹å­ä¸€ï¼šç¼–ç ä¸€æ ·ï¼Œå†…å®¹ç›¸åŒ</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#A6ACCD;">(buf2)) </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¾‹å­äºŒï¼šç¼–ç ä¸€æ ·ï¼Œå†…å®¹ä¸åŒ</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf4 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">B</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#A6ACCD;">(buf4)) </span><span style="color:#676E95;font-style:italic;">// false</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¾‹å­ä¸‰ï¼šç¼–ç ä¸ä¸€æ ·ï¼Œå†…å®¹ç›¸åŒ</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf5 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ABC</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// &lt;Buffer 41 42 43&gt;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf6 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">414243</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hex</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 41 42 43&gt;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> buf7 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">414243</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf16le</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 34 00 31 00 34 00 32 00 34 00 33 00&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf5</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#A6ACCD;">(buf6)) </span><span style="color:#676E95;font-style:italic;">//true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf7</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#A6ACCD;">(buf6)) </span><span style="color:#676E95;font-style:italic;">//false</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="buf-compare-target-targetstart-targetend-sourcestart-sourceend" tabindex="-1">buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]]) <a class="header-anchor" href="#buf-compare-target-targetstart-targetend-sourcestart-sourceend" aria-hidden="true">#</a></h3><p>compare å¯è§„å®šæ¯”è¾ƒçš„èŒƒå›´ï¼Œè¿”å›ä¸€ä¸ªæ•°å­—ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ABC</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">BCD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ABCD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(buf1)) </span><span style="color:#676E95;font-style:italic;">//0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(buf2)) </span><span style="color:#676E95;font-style:italic;">//-1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(buf3)) </span><span style="color:#676E95;font-style:italic;">//-1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(buf1)) </span><span style="color:#676E95;font-style:italic;">//1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compare</span><span style="color:#A6ACCD;">(buf3)) </span><span style="color:#676E95;font-style:italic;">//1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//  ABC BCD ABCD</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">([buf1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf3]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#A6ACCD;">(Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">compare)) </span><span style="color:#676E95;font-style:italic;">//[ &lt;Buffer 41 42 43&gt;, &lt;Buffer 41 42 43 44&gt;, &lt;Buffer 42 43 44&gt; ]  ABC ABCD BCD</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="arr-sort-buffer-compare-buffer-æ•°ç»„æ’åº" tabindex="-1">arr.sort(Buffer.compare) -- buffer æ•°ç»„æ’åºï¼Œ <a class="header-anchor" href="#arr-sort-buffer-compare-buffer-æ•°ç»„æ’åº" aria-hidden="true">#</a></h3><p>æŒ‰<code>ä½</code>æ¯”è¾ƒï¼Œç¬¬ä¸€ä½èƒ½æ¯”å‡ºç»“æœçš„ï¼Œå°±ç¡®å®šäº†ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">81234</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">80234</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [buf1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf2]</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr) </span><span style="color:#676E95;font-style:italic;">//[ &lt;Buffer 38 31 32 33 34&gt;, &lt;Buffer 38 30 32 33 34&gt; ]</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#A6ACCD;">(Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">compare)) </span><span style="color:#676E95;font-style:italic;">//[ &lt;Buffer 38 30 32 33 34&gt;, &lt;Buffer 38 31 32 33 34&gt; ] ç¬¬ä¸€ä½ï¼Œ38=38ï¼Œä¸èƒ½å¾—å‡ºé¡ºåºï¼Œç¬¬äºŒä½ï¼Œ30 &lt; 31,buf2 æ’åœ¨å‰é¢æ¥ã€‚</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="æ£€æŸ¥-buffer" tabindex="-1">æ£€æŸ¥ buffer <a class="header-anchor" href="#æ£€æŸ¥-buffer" aria-hidden="true">#</a></h2><p><code>Buffer.isBuffer(object)</code></p><h2 id="è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜" tabindex="-1">è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜ <a class="header-anchor" href="#è®¡ç®—éœ€è¦åˆ†é…çš„å†…å­˜" aria-hidden="true">#</a></h2><p><code>Buffer.byteLength(string, encoding=â€˜utf8â€™)</code></p><h2 id="buffer-å¤§å°-buffer-length" tabindex="-1">buffer å¤§å° buffer.length <a class="header-anchor" href="#buffer-å¤§å°-buffer-length" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">byteLength</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">â˜ƒâ˜ƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">// 6 éœ€è¦ 6 ä¸ªå­—èŠ‚å­˜å‚¨ ä¸¤ä¸ªâ˜ƒâ˜ƒ</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">â˜ƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// ä»ç´¢å¼• 4 å¼€å§‹å­˜ï¼Œåˆšå¥½èƒ½å­˜ 2 ä¸ª â˜ƒ</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length) </span><span style="color:#676E95;font-style:italic;">// 10 ç»™ buffer åˆ†é…çš„å†…å­˜ç©ºé—´</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">â˜ƒâ˜ƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length) </span><span style="color:#676E95;font-style:italic;">//2  å­—ç¬¦ä¸²é•¿åº¦</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// &#39;â˜ƒâ˜ƒ&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length) </span><span style="color:#676E95;font-style:italic;">// 6 å•ä½æ˜¯å­—èŠ‚</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">byteLength</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">â˜ƒâ˜ƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">// 6 éœ€è¦ 6 ä¸ªå­—èŠ‚å­˜å‚¨ä¸¤ä¸ªâ˜ƒ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">â˜ƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// ä»ç´¢å¼• 5 å¼€å§‹å­˜ï¼Œåˆšå¥½èƒ½å­˜ 2 ä¸ª â˜ƒ è¿˜å·® 1 å­—èŠ‚ç©ºé—´</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// &#39;â˜ƒï¿½&#39; æœ‰ä¸€ä¸ªä¹±ç </span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length) </span><span style="color:#676E95;font-style:italic;">// 7</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="buffer-è¿æ¥-buffer-concat-bufferlist-totallength" tabindex="-1">buffer è¿æ¥ Buffer.concat(bufferList[,totalLength]) <a class="header-anchor" href="#buffer-è¿æ¥-buffer-concat-bufferlist-totallength" aria-hidden="true">#</a></h3><p>totalLength æ˜¯æ‰€æœ‰ bufferList å…ƒç´ é•¿åº¦çš„ç´¯åŠ ã€‚ totalLength &gt; å®é™…ç´¯åŠ é•¿åº¦ï¼Œç”¨ 0 å¡«å……ï¼› totalLength &lt; å®é™…ç´¯è®¡é•¿åº¦ï¼Œåé¢çš„èˆå¼ƒã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">//æ¥ç€ä¸Šé¢çš„ä»£ç </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 38 30 32 33 34 38&gt; èˆå¼ƒå››ä½</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf4 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf4) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 38 30 32 33 34 38 31 32 33 34 00 00&gt; 0 å¡«å……ä¸¤ä½</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="bufsource-copy-buftarget-targetstart-sourcestart-sourceend" tabindex="-1">bufSource.copy(bufTarget[,targetStart[,sourceStart[,sourceEnd]]]) <a class="header-anchor" href="#bufsource-copy-buftarget-targetstart-sourcestart-sourceend" aria-hidden="true">#</a></h2><p>å¤åˆ¶ bufSource çš„ sourceStart -- sourceEnd-1 çš„å­—èŠ‚åˆ° bufTarget çš„ target ä½ç½®å¼€å§‹å­˜æ”¾ã€‚ è¿”å›å€¼<code>int</code>ï¼šå®é™…å­˜å…¥çš„å­—èŠ‚æ•°ã€‚<code>ç›®æ ‡ buffer ç©ºé—´ä¸å¤Ÿï¼Œå¤åˆ¶æºä¼šè¢«æˆªæ–­ã€‚</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//åˆ†é… 10 ä¸ªå­—èŠ‚çš„ç©ºé—´</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copyFunction</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤åˆ¶å‰ buf1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf1) </span><span style="color:#676E95;font-style:italic;">//å¤åˆ¶å‰ buf1 &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤åˆ¶å‰ buf2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf2) </span><span style="color:#676E95;font-style:italic;">//å¤åˆ¶å‰ buf2 &lt;Buffer 63 6f 70 79 46 75 6e 63 74 69 6f 6e&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">copy</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//å¤åˆ¶ buf1 1--5 å­—èŠ‚åˆ° buf2 çš„  ç¬¬ 4 ä¸ªç´¢å¼•ä½ç½®å¼€å§‹å­˜æ”¾ï¼Œç”¨ 6 ä¸ªå­—èŠ‚æ¥å­˜æ”¾4ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œç©ºé—´è¶³å¤Ÿã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤åˆ¶å buf1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf1) </span><span style="color:#676E95;font-style:italic;">//å¤åˆ¶å buf1 &lt;Buffer 00 00 00 00 6f 70 79 46 00 00&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//opyF</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤åˆ¶å buf2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> buf2) </span><span style="color:#676E95;font-style:italic;">//å¤åˆ¶å buf2 &lt;Buffer 63 6f 70 79 46 75 6e 63 74 69 6f 6e&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//copyFunction</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤åˆ¶å result</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> result) </span><span style="color:#676E95;font-style:italic;">// 4</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="æˆªå–-buf-slice-start-0-end-buf-length" tabindex="-1">æˆªå– buf.slice([start=0[, end=buf.length]]) <a class="header-anchor" href="#æˆªå–-buf-slice-start-0-end-buf-length" aria-hidden="true">#</a></h2><p>ä» buf ä¸­æˆªå–ä¸€éƒ¨åˆ†ï¼Œç»„æˆæ–°çš„ buffer , ä¸¤è€…å†…å­˜æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥ä¿®æ”¹æ—¶ï¼Œä¼šç›¸äº’å½±å“ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abcda</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buf3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3) </span><span style="color:#676E95;font-style:italic;">//cd</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//cd</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•å…±äº«å†…å­˜</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">((buf3[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)) </span><span style="color:#676E95;font-style:italic;">// 100 ä¿®æ”¹ buf3 çš„ç¬¬ä¸€ä¸ªå€¼ ä¸º d,è¿”å›ä¿®æ”¹åçš„å€¼</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//100</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 64 64&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf3</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//dd  ä¿®æ”¹äº†</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1) </span><span style="color:#676E95;font-style:italic;">//&lt;Buffer 61 62 64 64 61&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buf1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abdd buf1 ä¹Ÿä¿®æ”¹äº†</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="æŸ¥æ‰¾-buf-indexof-value-byteoffset-0-encoding-utf8" tabindex="-1">æŸ¥æ‰¾ buf.indexOf(value[,byteOffset=0][,encoding=â€˜utf8â€™]) <a class="header-anchor" href="#æŸ¥æ‰¾-buf-indexof-value-byteoffset-0-encoding-utf8" aria-hidden="true">#</a></h2><p>ä» buf çš„ byteOffset ä½ç½®å¼€å§‹æŸ¥æ‰¾ valueï¼Œæ‰¾åˆ°ä¸€ä¸ª value,è¿”å›å…¶ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1ã€‚value å¯ä»¥æ˜¯ <code>String</code> ã€<code>Int</code> ã€<code>Buffer</code>ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> buf2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copyFunction</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(result) </span><span style="color:#676E95;font-style:italic;">// 7 ç´¢å¼• 3 ä¹‹åç¬¬ä¸€ä¸ª c çš„ç´¢å¼•</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(result2) </span><span style="color:#676E95;font-style:italic;">// 0 ç¬¬ä¸€ä¸ª c</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(result3) </span><span style="color:#676E95;font-style:italic;">// -1</span></span>
<span class="line"><span style="color:#A6ACCD;">buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#A6ACCD;">(Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//-1</span></span>
<span class="line"><span style="color:#A6ACCD;">buf2</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//-1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">// abcdabcdab</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é€’å½’æŸ¥æ‰¾æ‰€æœ‰ buffer</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> index </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [] </span><span style="color:#676E95;font-style:italic;">//è¿™é‡Œå¾ˆå…³é”® å­˜å‚¨æŸ¥æ‰¾åˆ°çš„ä¸‹æ ‡</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">recursiveIndexOf</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">buffer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">char</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">start</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">buffer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¼€å§‹ä¸‹æ ‡å¤§äº buffer æœ€å¤§ä¸‹æ ‡ï¼Œè¿”å› -1ï¼Œä¹Ÿæ˜¯é€’å½’å‡ºå£</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">char</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">recursiveIndexOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">buffer</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">char</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">recursiveIndexOf</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(result) </span><span style="color:#676E95;font-style:italic;">//[0,4,8]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="buffer-è½¬-string-å’Œ-object" tabindex="-1">buffer è½¬ String å’Œ Object <a class="header-anchor" href="#buffer-è½¬-string-å’Œ-object" aria-hidden="true">#</a></h2><p><code>buf.toString([encoding=utf8[,start=0[,end=buf.length]]])</code>ã€<code>buf.toJSON()</code><code>toJSON è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚{type:&#39;Buffer&#39;,data:[]}</code> data æ˜¯ buffer çš„å€¼ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//abcd</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJSON</span><span style="color:#A6ACCD;">()) </span><span style="color:#676E95;font-style:italic;">//{ type: &#39;Buffer&#39;,data: [ 97, 98, 99, 100, 97, 98, 99, 100, 97, 98 ] }</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJSON</span><span style="color:#A6ACCD;">())) </span><span style="color:#676E95;font-style:italic;">// {}  å¯è§ toJSON è¿”å›çš„æ˜¯å¯¹è±¡</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">//97</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJSON</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">//97</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJSON</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data) </span><span style="color:#676E95;font-style:italic;">//[ 97, 98, 99, 100, 97, 98, 99, 100, 97, 98 ]</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJSON</span><span style="color:#A6ACCD;">())) </span><span style="color:#676E95;font-style:italic;">// å˜æˆ json å­—ç¬¦ä¸²</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="buffer-éå†" tabindex="-1">buffer éå† <a class="header-anchor" href="#buffer-éå†" aria-hidden="true">#</a></h2><p><code>buffer.keys()</code>ã€<code>buffer.values()</code> ã€<code>buffer.entries()</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> buffer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">alloc</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fill</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abcd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> key </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">()) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//è¾“å‡ºä¸æ¢è¡Œï¼Œwrite åªèƒ½æ¥æ”¶ String å’Œ Buffer ä½œä¸ºå‚æ•°ï¼Œå¯ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è½¬æ¢</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// console.log(key) è¿™æ ·è¾“å‡ºä¼šæ¢è¡Œ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//0123456789</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> value </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">values</span><span style="color:#A6ACCD;">()) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">process</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">stdout</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">//9798991009798991009798</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> entriy </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> buffer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">entries</span><span style="color:#A6ACCD;">()) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">buffer[%d]==%d</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">entriy</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">entriy</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[0]==97</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[1]==98</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[2]==99</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[3]==100</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[4]==97</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[5]==98</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[6]==99</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[7]==100</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[8]==97</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">buffer[9]==98 </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="todo" tabindex="-1">TODO <a class="header-anchor" href="#todo" aria-hidden="true">#</a></h2><ul><li>TypeArray vs Buffer vs ArrayBuffer ####å‚è€ƒæ–‡ç« ï¼š</li><li><a href="https://www.cnblogs.com/dolphinX/p/6279805.html" target="_blank" rel="noreferrer">NodeJS stream ä¸€ï¼šBuffer</a></li><li><a href="https://www.cnblogs.com/chyingp/p/nodejs-learning-buffer.html" target="_blank" rel="noreferrer">Nodejs è¿›é˜¶ï¼šæ ¸å¿ƒæ¨¡å— Buffer å¸¸ç”¨ API ä½¿ç”¨æ€»ç»“</a></li><li><a href="https://medium.freecodecamp.org/do-you-want-a-better-understanding-of-buffer-in-node-js-check-this-out-2e29de2968e8" target="_blank" rel="noreferrer">Do you want a better understanding of Buffer in Node.js? Check this out.</a></li></ul>`,59),e=[o];function r(t,c,y,A,D,F){return n(),a("div",null,e)}const f=s(p,[["render",r]]);export{i as __pageData,f as default};
