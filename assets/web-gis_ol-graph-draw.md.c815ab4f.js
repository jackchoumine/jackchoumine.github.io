import{_ as s,o as a,c as n,a as l}from"./app.9e54238b.js";const h=JSON.parse('{"title":"ol 之图形绘制","description":"","frontmatter":{},"headers":[{"level":2,"title":"地图交互","slug":"地图交互","link":"#地图交互","children":[]},{"level":2,"title":"交互式绘制","slug":"交互式绘制","link":"#交互式绘制","children":[{"level":3,"title":"绘制几何图形","slug":"绘制几何图形","link":"#绘制几何图形","children":[]},{"level":3,"title":"编辑图形样式","slug":"编辑图形样式","link":"#编辑图形样式","children":[]}]},{"level":2,"title":"修改已绘制的图形","slug":"修改已绘制的图形","link":"#修改已绘制的图形","children":[]}],"relativePath":"web-gis/ol-graph-draw.md"}'),e={name:"web-gis/ol-graph-draw.md"},p=l(`<h1 id="ol-之图形绘制" tabindex="-1">ol 之图形绘制 <a class="header-anchor" href="#ol-之图形绘制" aria-hidden="true">#</a></h1><p>图形绘制：在地图上绘制点、线、面等图形，可以用来标记地图上的一些特殊位置，或者用来标记地图上的一些区域。</p><p>两种绘制方式：</p><ol><li><p>空间坐标未知，可使用鼠标绘制，即用户使用鼠标在地图上绘制图形，又叫交互式绘制</p></li><li><p>空间坐标已知，使用代码添加制作好的图形</p></li></ol><blockquote><p>空间坐标是绘制的基础。</p></blockquote><p>图形绘制在 GIS 应用中非常重要，可辅助其他功能实现，比如查询、编辑、分析等功能。</p><h2 id="地图交互" tabindex="-1">地图交互 <a class="header-anchor" href="#地图交互" aria-hidden="true">#</a></h2><p>地图交互(map interaction)是指用户与地图的交互，比如鼠标点击、鼠标移动、鼠标滚轮、键盘按键等。地图交互是地图应用的基础，地图交互可用于地图的基本操作，比如地图的平移、缩放、旋转等。地图交互也用于几何图形的绘制，比如地图的绘制、编辑、查询等。</p><p>ol 有两种交互方式：</p><ul><li>默认交互</li></ul><ol><li>DragRotate：旋转</li><li>PinchRotate：双指旋转</li><li>DoubleClickZoom：双击缩放</li><li>MouseWheelZoom：鼠标滚轮缩放</li><li>PinchZoom：双指缩放</li><li>KeyboardZoom：键盘缩放</li><li>DragZoom：拖拽缩放</li><li>KeyboardPan：键盘（方向键）平移</li><li>DragPan：键盘（方向键）平移</li></ol><ul><li>矢量交互</li></ul><ol><li>Select：选择</li><li>Draw：绘制</li><li>Modify：编辑</li><li>Snap：捕捉</li></ol><p>矢量交互和绘制几何图形有关，绘制几何图形时，需要先实例化绘制控件，然后将绘制控件添加到地图中，最后在地图上使用鼠标绘制图形。绘制完成后，可获取绘制的空间坐标，可用于其他功能。也可通过交互式编辑控件编辑已绘制的图形。</p><h2 id="交互式绘制" tabindex="-1">交互式绘制 <a class="header-anchor" href="#交互式绘制" aria-hidden="true">#</a></h2><p>原理：加载交互式控件到地图(实例化时设置绘制类型，如点、线、面)，用户使用鼠标在地图上绘制图形，绘制完成后，获取绘制的空间坐标，可用于其他功能。也可通过交互式编辑控件编辑已绘制的图形。绘制几何图形时，可设置图形的样式。</p><p>ol 中矢量地图为 ol.layer.Vector，矢量图层中的要素为 ol.Feature，要素的几何图形为 ol.geom.Geometry，几何图形的坐标为 ol.Coordinate。</p><p>交互式绘制控件为 ol.interaction.Draw，交互式编辑控件为 ol.interaction.Modify。在编辑时，需要先选中要编辑的要素，选择控件为 ol.interaction.Select。</p><h3 id="绘制几何图形" tabindex="-1">绘制几何图形 <a class="header-anchor" href="#绘制几何图形" aria-hidden="true">#</a></h3><p>几何图形包括点、线、面，以及圆、正方形等。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="编辑图形样式" tabindex="-1">编辑图形样式 <a class="header-anchor" href="#编辑图形样式" aria-hidden="true">#</a></h3><p>集合图形都有对应的样式，比如线型、线颜色、线宽、线透明度和填充色等, 从<code>ol/style</code>中导入样式类，设置样式。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Circle</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Fill</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Icon</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">IconImage</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Image</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">RegularShape</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * 边界线</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Stroke</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * 设置集合图形的样式</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Style</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * 设置文本样式</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">Text</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ol/style</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>不设置样式，会启用默认样式。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="修改已绘制的图形" tabindex="-1">修改已绘制的图形 <a class="header-anchor" href="#修改已绘制的图形" aria-hidden="true">#</a></h2><p>修改图形的集合信息一般通过交互方式实现，通过交互式编辑控件 ol.interaction.Modify 和要素选择控件 ol.interaction.Select 一起使用实现。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,29),i=[p];function o(r,t,c,d,b,y){return a(),n("div",null,i)}const m=s(e,[["render",o]]);export{h as __pageData,m as default};
